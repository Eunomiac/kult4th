@function expand-color($color) {
	@return (
		scale-color($color, $lightness: +75%, $saturation: +0%),
		scale-color($color, $lightness: +50%, $saturation: +0%),
		scale-color($color, $lightness: +35%, $saturation: +0%),
		$color,
		scale-color($color, $lightness: -25%, $saturation: +0%),
		scale-color($color, $lightness: -50%, $saturation: +0%),
		scale-color($color, $lightness: -75%, $saturation: +0%)
	)
}

$COLOR-SPREADS: (
	"gold": expand-color(#958f6b),
	"red": expand-color(#912228),
	"white": expand-color(#d4d2d7),
	"black": expand-color(#111111),
	"blue": expand-color(#2661dc)
);
// @debug $COLOR-SPREADS;

// GOLDS
$gold-brightest: nth(map-get($COLOR-SPREADS, "gold"), 1);
$gold-brighter: nth(map-get($COLOR-SPREADS, "gold"), 2);
$gold-bright: nth(map-get($COLOR-SPREADS, "gold"), 3);
$gold: nth(map-get($COLOR-SPREADS, "gold"), 4);
$gold-dark: nth(map-get($COLOR-SPREADS, "gold"), 5);
$gold-darker: nth(map-get($COLOR-SPREADS, "gold"), 6);
$gold-darkest: nth(map-get($COLOR-SPREADS, "gold"), 7);

// REDS
$red-brightest: nth(map-get($COLOR-SPREADS, "red"), 1);
$red-brighter: nth(map-get($COLOR-SPREADS, "red"), 2);
$red-bright: nth(map-get($COLOR-SPREADS, "red"), 3);
$red: nth(map-get($COLOR-SPREADS, "red"), 4);
$red-dark: nth(map-get($COLOR-SPREADS, "red"), 5);
$red-darker: nth(map-get($COLOR-SPREADS, "red"), 6);
$red-darkest: nth(map-get($COLOR-SPREADS, "red"), 7);

// BLUES
$blue-brightest: nth(map-get($COLOR-SPREADS, "blue"), 1);
$blue-brighter: nth(map-get($COLOR-SPREADS, "blue"), 2);
$blue-bright: nth(map-get($COLOR-SPREADS, "blue"), 3);
$blue: nth(map-get($COLOR-SPREADS, "blue"), 4);
$blue-dark: nth(map-get($COLOR-SPREADS, "blue"), 5);
$blue-darker: nth(map-get($COLOR-SPREADS, "blue"), 6);
$blue-darkest: nth(map-get($COLOR-SPREADS, "blue"), 7);

// WHITES
$white-brightest: nth(map-get($COLOR-SPREADS, "white"), 1);
$white-brighter: nth(map-get($COLOR-SPREADS, "white"), 2);
$white-bright: nth(map-get($COLOR-SPREADS, "white"), 3);
$white: nth(map-get($COLOR-SPREADS, "white"), 4);
$white-dark: nth(map-get($COLOR-SPREADS, "white"), 5);
$white-darker: nth(map-get($COLOR-SPREADS, "white"), 6);
$white-darkest: nth(map-get($COLOR-SPREADS, "white"), 7);

// BLACKS
$black-brightest: nth(map-get($COLOR-SPREADS, "black"), 1);
$black-brighter: nth(map-get($COLOR-SPREADS, "black"), 2);
$black-bright: nth(map-get($COLOR-SPREADS, "black"), 3);
$black: nth(map-get($COLOR-SPREADS, "black"), 4);
$black-dark: nth(map-get($COLOR-SPREADS, "black"), 5);
$black-darker: nth(map-get($COLOR-SPREADS, "black"), 6);
$black-darkest: nth(map-get($COLOR-SPREADS, "black"), 7);

$gold-glow: #ffd958;
$red-glow: #ff0000;
$blue-glow: #3f93ff;

@mixin set-default-theme() {
	--KT-color-primary: #{$gold};
	--KT-color-contrast: #{$black};
	--KT-color-highlight: #{$gold-brightest};

	--KT-color-h1: #{$red};
	--KT-color-h2: #{$red};
	--KT-color-h3: #{$red};
	--KT-color-h4: #{$red};

	--KT-color-header-fg: var(--KT-color-contrast);
	--KT-color-header-bg: var(--KT-color-primary);

	--KT-color-keyword: #{$blue};
	--KT-color-pos: #{$blue-brightest};
	--KT-color-neg: #{$red-glow};

	--KT-bullet: transparent #{to-url("icons/bullets/bullet-gold-bright.svg")} no-repeat center center/12px;

	@include set-bg-vars("dgold");

	--KT-color-light-contrast: #{$gold-dark};
	--KT-color-deep-contrast: #{$black-darkest};
	--KT-color-emphasis: #{$gold-bright};
	--KT-color-keyword-emphasis: #{$blue-bright};
	--KT-color-keyword-contrast: #{$blue-dark};
}

/* DEFAULT FOUNDRY OVERRIDES */
& {
  --color-text-light-primary: var(--KT-color-primary);
	--color-text-light-highlight: magenta; // var(--KT-color-emphasis); // #f0f0e0;
  --color-text-light-heading: lime; // var(--KT-color-emphasis); // #c9c7b8;
  --color-text-dark-primary: var(--KT-color-contrast); // #191813;
  --color-text-dark-secondary: cyan; // var(--KT-color-light-contrast); // #4b4a44;
  --color-text-dark-header: purple; // var(--KT-color-light-contrast); // #23221d;
  --color-text-light-primary: var(--KT-color-primary);
	--color-text-light-highlight: var(--KT-color-emphasis); // #f0f0e0;
  --color-text-light-heading: var(--KT-color-emphasis); // #c9c7b8;
  --color-text-dark-primary: var(--KT-color-contrast); // #191813;
  --color-text-dark-secondary: var(--KT-color-light-contrast); // #4b4a44;
  --color-text-dark-header: var(--KT-color-light-contrast); // #23221d;
  --color-text-dark-inactive: #7a7971;
  --color-text-hyperlink: var(--KT-color-keyword); // #ff6400;
  --color-text-light-0: #fff;
  --color-text-light-1: var(--KT-color-highlight); // #eee;
  --color-text-light-2: var(--KT-color-highlight); // #ddd;
  --color-text-light-3: var(--KT-color-emphasis); // #ccc;
  --color-text-light-4: var(--KT-color-emphasis); // #bbb;
  --color-text-light-5: var(--KT-color-emphasis); // #aaa;
  --color-text-light-6: var(--KT-color-primary); // #999;
  --color-text-light-7: var(--KT-color-primary); // #888;
  --color-text-dark-1: var(--KT-color-contrast); // #111;
  --color-text-dark-2: var(--KT-color-contrast); // #222;
  --color-text-dark-3: #444;
  --color-text-dark-4: #555;
  --color-text-dark-5: #666;
  --color-text-dark-6: #777;
  --color-border-light-1: var(--KT-color-emphasis); // #ddd;
  --color-border-light-2: var(--KT-color-primary); // #999;
  --color-border-dark-1: var(--KT-color-contrast); // #111;
  --color-border-dark-2: var(--KT-color-contrast); // #222;
  --color-border-dark-3: var(--KT-color-light-contrast); // #333;
  --color-border-dark-4: var(--KT-color-light-contrast); // #444;
  --color-border-dark-5: var(--KT-color-light-contrast); // #666;
  --color-shadow-primary: var(--KT-color-primary); // #ff0000;
  --color-shadow-highlight: var(--KT-color-primary); // #ff6400;
  --color-shadow-dark: #000;
  --color-underline-inactive: var(--KT-color-light-contrast); // #7a7971;
  --color-underline-active: var(--KT-color-keyword-emphasis); // #426899;
  --color-underline-header: var(--KT-color-primary); // #782e22;
  --color-border-light-highlight: var(--KT-color-highlight);
  --color-border-light-primary: var(--KT-color-highlight); // #e4ddc3;
  --color-border-light-secondary: var(--KT-color-emphasis); // #c9c7b8;
  --color-border-light-tertiary: var(--KT-color-primary); // #7a7971;
  --color-border-dark: #000;
  --color-border-dark-primary: var(--KT-color-contrast); // #191813;
  --color-border-dark-secondary: var(--KT-color-light-contrast); // #23221d;
  --color-border-dark-tertiary: var(--KT-color-light-contrast); // #4b4a44;
  --color-border-highlight: var(--KT-color-emphasis); // #ff6400;
  --color-border-highlight-alt: var(--KT-color-highlight); // #ff0000;
  --color-bg-btn-minor-inactive: var(--KT-color-emphasis); // #c9c7b8;
  --color-bg-btn-minor-active: var(--KT-color-highlight); // #c9c7b8;
  --color-bg-option: var(--KT-color-highlight);
}

/* THEMES */
& {
	@include set-default-theme();
}

// .k4-theme-dgold, .k4-theme-dgold /* * */ {
// 	@include set-default-theme();
// }

.k4-theme-dark {
	--KT-color-primary: #{$white-dark};
	--KT-color-contrast: #{$gold-darkest};
	--KT-color-highlight: #{$white-brightest};

	--KT-color-h1: #{$red-bright};
	--KT-color-h2: #{$red-bright};
	--KT-color-h3: #{$red-bright};
	--KT-color-h4: #{$red-bright};

	--KT-color-header-fg: #{$white-brightest};
	--KT-color-header-bg: #{$black-darkest};

	--KT-color-keyword: #{$blue};
	--KT-color-pos: #{$blue-brightest};
	--KT-color-neg: #{$red-glow};

	--KT-bullet: transparent #{to-url("icons/bullets/bullet-white.svg")} no-repeat center center/12px;

	@include set-bg-vars("dark");

	--KT-color-light-contrast: #{$gold-dark};
	--KT-color-deep-contrast: #{$black-darkest};
	--KT-color-emphasis: #{$white-bright};
	--KT-color-keyword-emphasis: #{$blue-bright};
	--KT-color-keyword-contrast: #{$blue-dark};
}

.k4-theme-white {
	--KT-color-primary: #{$black};
	--KT-color-contrast: #{$gold};
	--KT-color-highlight: #{$black-darkest};

	--KT-color-h1: #{$red-dark};
	--KT-color-h2: #{$red-dark};
	--KT-color-h3: #{$red-dark};
	--KT-color-h4: #{$red-dark};

	--KT-color-header-fg: #{$gold-brightest};
	--KT-color-header-bg: #{$gold-dark};

	--KT-color-keyword: #{$blue-dark};
	--KT-color-pos: #{$blue};
	--KT-color-neg: #{$red-glow};

	--KT-bullet: transparent #{to-url("icons/bullets/bullet-gold.svg")} no-repeat center center/12px;

	@include set-bg-vars("white");

	--KT-color-light-contrast: #{$gold-bright};
	--KT-color-deep-contrast: #{$gold-brightest};
	--KT-color-emphasis: #{$black-darkest};
	--KT-color-keyword-emphasis: #{$blue-darkest};
	--KT-color-keyword-contrast: #{$blue-bright};
}

.k4-theme-red {
	--KT-color-primary: #{$red-bright};
	--KT-color-contrast: #{$red-darkest};
	--KT-color-highlight: #{$red-glow};

	--KT-color-h1: #{$red-glow};
	--KT-color-h2: #{$red-glow};
	--KT-color-h3: #{$red-glow};
	--KT-color-h4: #{$red-glow};

	--KT-color-header-fg: #{$red-glow};
	--KT-color-header-bg: #{$red-darker};

	--KT-color-keyword: #{$blue};
	--KT-color-pos: #{$blue-brightest};
	--KT-color-neg: #{$red-glow};

	--KT-bullet: transparent #{to-url("icons/bullets/bullet-red.svg")} no-repeat center center/12px;

	@include set-bg-vars("red");

	--KT-color-light-contrast: #{$red-dark};
	--KT-color-deep-contrast: #{$black-darkest};
	--KT-color-emphasis: #{$red-glow};
	--KT-color-keyword-emphasis: #{$blue-bright};
	--KT-color-keyword-contrast: #{$blue-dark};
}
