{{log "{SHEET} advantage-sheet.hbs" this}}

<form class="kult4th-form {{cssClass}}" autocomplete="off">
	{{> "systems/kult4th/templates/components/form-header.hbs" docType=data.type docName=data.name isBullet=false}}
	<main class="kult-text-container tab-content">
		{{#unless (areEmpty data.data.rules.intro data.data.rules.trigger data.data.rules.outro)}}
		{{> "systems/kult4th/templates/components/rules-block.hbs" rules=data.data.rules}}
		{{/unless}}

		{{#each data.data.subMoveData as |subMove|}}
		{{> "systems/kult4th/templates/partials/derived-item-summary.hbs" subMove}}
		{{/each}}

		{{~#if data.data.rules.listRefs}}
			{{> "systems/kult4th/templates/components/item-list.hbs" lists=data.data.lists listRefs=data.data.rules.listRefs itemData=data isDisplayingName=true}}
		{{/if}}

		{{#if data.data.rules.holdText}}
			<span class="hold-header">This {{case "title" data.type}} grants Hold</span>
			<span class="hold-body">{{{formatForKult data.data.rules.holdText}}}</span>
		{{/if}}
	</main>
</form>


	{{!-- <main class="kult-text-container tab-content">

		{{~#if data.data.rules.listRefs}}
		{{~#with data.data.lists as |LISTS|}}
		{{~#each ../data.data.rules.listRefs as |listKey|}}
		{{~#with (lookup LISTS listKey) as |listData|}}
		{{#if (test listKey "==" "edges")}}
		<span class="edges-header">This {{case "title" ../../../type}} grants Edges:</span>
		{{else}}
		<h2 class="list-name">{{listData.name}}</h2>
		{{/if}}
		{{~#if listData.intro}}<span class="list-intro">{{{formatForKult listData.intro}}}</span>{{/if}}
		<ul class="rules-list list-{{listKey}}">
			{{#each listData.items as |item|}}
			<li>{{{formatForKult item}}}</li>
			{{/each}}
		</ul>
		{{/with}}
		{{/each}}
		{{/with}}
		{{/if}}

		{{#if data.data.rules.holdText}}
		<span class="hold-header">This {{case "title" type}} grants Hold</span>
		<span class="hold-body">{{{formatForKult data.data.rules.holdText}}}</span>
		{{/if}}
	</main>
</form> --}}